<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./public/assets/css-covers/style.css">
    <title>Document</title>
    <link rel="manifest" href="manifest.json">

</head>
<body>
    <div class="sign-up-form">
        <h1>sign up now </h1>
        <form id="form">
          
  <input type="email" class="iput-box" placeholder="your email"  id="email" required>
  <div id="emailerror"></div>
  <input type="password" class="input-box" placeholder="enter your password"  id="password" required>
  <div id="passworderror"></div>
<button type="button" class="signup-btn" id="signupi">sign up</button>
  <hr>
  <p class="or">OR</p>
  <button type="button" class="login-btn" >Log in with email</button>
 
<p> do you have an account ? <a href="./public/login.html">sign in here </a></p>
      
<div id="report"></div>

        </form>
        

   


    </div>
    <script>
      const form=document.getElementById('form')
    
       const buttonsend=document.getElementById('signupi')
      
        
      buttonsend.addEventListener('click',async (e)=>{
     e.preventDefault()
     const emailing=document.getElementById('email').value
      const passwording=document.getElementById('password').value
       const buttonsend=document.getElementById('signupi')
        const passworderror=document.getElementById('passworderror')
        const emailerror=document.getElementById('emailerror')
        const reportvalue=document.getElementById('report')
        reportvalue.textContent=''
          try{
  const res=await fetch('http://localhost:3000/signup',{
    method:'POST',
    body:JSON.stringify({email:emailing,password:passwording}),
    headers:{ 'Content-Type':'application/json'}
  })
  const data=await res.json()
  console.log(data)
  
   
   if(data.error){
    reportvalue.textContent=data.error
  console.log(data)
  
  }
  else if(data.user){
    reportvalue.textContent=data.user
     window.location.assign('login.html')
  }
  
          }
         
          catch(error){
      console.log(error)
          }
        })
     
    </script>
</body>
</html>

 

 

     
 